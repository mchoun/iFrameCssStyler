<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CardConnect iFrame Tokenizer CSS Editor</title>
</head>

<body>
    <div id="editor">

        <textarea name="iframecss" id="iframecss" placeholder="Enter your CSS here!" cols="30" rows="10"></textarea>
    </div>

    <button id="btn">Click me</button>

    <div id="preview">
        <iframe id="cciframe" src="https://fts-uat.cardconnect.com/itoke/ajax-tokenizer.html" frameborder="0"></iframe>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <script>

        const iframeUrl = "https://fts-uat.cardconnect.com/itoke/ajax-tokenizer.html";

        $(document).ready(function () {
            var timer;
            $("iframecss").keyup(function () {
                clearTimeout(timer);
                var ms = 200 //millisecond 
                let url = function() {
                const cssEncoded = "css=" + encodeURIComponent($("#iframecss").val());
                $("#cciframe").attr("src", iframeUrl + "?" + cssEncoded)
                }
        
            })

        });
    </script>

</body>

</html>